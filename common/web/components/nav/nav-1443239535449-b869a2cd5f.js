define(function(require,n,e){"use strict";var s;s={options:{showMenu:!1,hasMini:!0},init:function(n){var e=n?$.extend({},this.options,n):this.options;this.initNav(e),this.bindEvent(e)},elements:{nav:$("#dd-global-nav"),filterBtn:$(".j-show-panel"),menu:$(".focus-menu"),showBrandBtn:$(".j-show-brand-panel"),brandPanel:$(".focus-brand-panel"),miniNav:$(".mini-nav")},bindEvent:function(n){var e,s=this;this.elements.filterBtn.on("mouseenter",function(){e=setTimeout(function(){s.showMenu()},300)}).on("mouseleave",function(){clearTimeout(e),!n.showMenu&&s.hideMenu()}),this.elements.showBrandBtn.on("mouseenter",function(){s.showPanel()}).on("mouseleave",function(){s.hidePanel()}),$(window).on("scroll",function(){if(n.hasMini){var e=$(document).scrollTop(),t=s.elements.nav.offset().top+s.elements.nav.height();e>t?s.elements.miniNav.addClass("on"):s.elements.miniNav.removeClass("on")}})},initNav:function(n){n.showMenu?(this.elements.filterBtn.addClass("on"),this.elements.menu.removeClass("fn-hide")):$(".sort-menu-btn i").show()},showMenu:function(){this.elements.filterBtn.addClass("on"),this.elements.menu.removeClass("fn-hide")},hideMenu:function(){this.elements.filterBtn.removeClass("on"),this.elements.menu.addClass("fn-hide")},showPanel:function(){this.elements.showBrandBtn.addClass("on"),this.elements.brandPanel.removeClass("fn-hide")},hidePanel:function(){this.elements.showBrandBtn.removeClass("on"),this.elements.brandPanel.addClass("fn-hide")}},e.exports=s});